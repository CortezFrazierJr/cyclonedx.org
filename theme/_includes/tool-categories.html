<div id="button-container">
  {% for c in site.data.categories %}
  {% assign category_code = c[0] %}
  <button title="{{c[1].text}}" class="btn" data-category="{{category_code}}">
    {{c[1].label}}
    <span class="badge">
      {% if category_code == 'all' %}
      {{site.data.tools | size}}
      {% else %}
      {{site.data.tools | where_exp: "tool", "tool.categories contains category_code" | size}}
      {% endif %}
    </span>
  </button>
  {% endfor %}
</div>